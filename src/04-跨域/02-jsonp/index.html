<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>JSONP案例</title>
    <style>


    </style>
  </head>
  <body>
    用户名：<label for="username"></label><input type="text" id="username">
    <p></p>

    <script>
      const input = document.querySelector('input')
      const p = document.querySelector('p')

      // 声明 handle 函数
      function handle(data) {
        input.style.border = 'solid 1px #f00'
        p.innerHTML = data.msg
      }

      input.onblur = function () {
        // 获取用户的输入值
        let username = this.value
        // 想服务器发送请求，检测用户名是否存在
        // 1. 创建script标签
        const script = document.createElement('script')
        // 2. 设置标签的src属性
        script.src = 'http://127.0.0.1:8000/check-username'
        // 3. 将script 接入文档中
        document.body.appendChild(script)
      }

    </script>

  </body>
</html>
